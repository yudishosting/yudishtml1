<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Playlist Musik & Lirik</title>
  <style>
    body {
      background: #f4f4f4;
      font-family: sans-serif;
      margin: 0;
      padding: 20px;
      color: #222;
    }
    h1 {
      text-align: center;
    }
    .playlist {
      max-width: 600px;
      margin: auto;
    }
    .artist-title {
      font-weight: bold;
      font-size: 18px;
      margin-top: 20px;
    }
    .song {
      cursor: pointer;
      padding: 5px;
      margin: 5px 0;
      background: #fff;
      border: 1px solid #ccc;
    }
    .song:hover {
      background: #e0e0e0;
    }
    audio {
      display: block;
      margin: 20px auto;
      width: 100%;
    }
    pre {
      background: #fff;
      padding: 10px;
      white-space: pre-wrap;
      border: 1px solid #ddd;
      max-width: 600px;
      margin: auto;
    }
  </style>
</head>
<body>
  <h1>ðŸŽµ Playlist Musik & Lirik</h1>
  <div class="playlist" id="playlist"></div>
  <audio controls id="audioPlayer"></audio>
  <pre id="lyricsBox">Klik salah satu lagu untuk memutar dan melihat liriknya...</pre>

  <script>
    // Atur manual playlist berdasarkan struktur folder
    const songs = [
      { artist: "nina", id: "otuan", title: "Nina - O Tuan" },
      { artist: "nina", id: "feast", title: "Nina - Feast" },
      { artist: "yura", id: "senja", title: "Yura - Senja" }
    ];

    const groupByArtist = {};
    songs.forEach(song => {
      if (!groupByArtist[song.artist]) groupByArtist[song.artist] = [];
      groupByArtist[song.artist].push(song);
    });

    const playlistDiv = document.getElementById("playlist");
    for (const artist in groupByArtist) {
      const artistTitle = document.createElement("div");
      artistTitle.className = "artist-title";
      artistTitle.textContent = artist;
      playlistDiv.appendChild(artistTitle);

      groupByArtist[artist].forEach(song => {
        const songDiv = document.createElement("div");
        songDiv.className = "song";
        songDiv.textContent = song.title;
        songDiv.onclick = () => loadSong(song.artist, song.id);
        playlistDiv.appendChild(songDiv);
      });
    }

    function loadSong(artist, id) {
      const scriptPath = `lyrics/${artist}/${id}.js`;
      const oldScript = document.getElementById("dynamicLyrics");
      if (oldScript) oldScript.remove();

      const script = document.createElement("script");
      script.src = scriptPath;
      script.id = "dynamicLyrics";
      script.onload = () => {
        document.getElementById("audioPlayer").src = songData.audio;
        document.getElementById("lyricsBox").textContent = songData.lyrics;
      };
      script.onerror = () => {
        document.getElementById("lyricsBox").textContent = "Lirik tidak ditemukan.";
        document.getElementById("audioPlayer").src = "";
      };
      document.body.appendChild(script);
    }
  </script>
</body>
</html>